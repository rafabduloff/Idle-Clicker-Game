{"ast":null,"code":"var _jsxFileName = \"D:\\\\Morrison\\\\Idle-Clicker-Game\\\\my-app\\\\src\\\\BuisnessGame.js\",\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport Location from './Component/Location';\nimport backgroundMusic from './Audio/please-calm-my-mind-125566.mp3';\nimport backgroundImage from './Photo/Fone.webp';\nimport greenCrystal from './Photo/greenCrystal.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BusinessWindow = ({\n  name,\n  income,\n  onUpgrade,\n  upgradeCost,\n  level,\n  unlocked,\n  onUnlock,\n  unlockCost,\n  multiplier,\n  convertNumberToShortForm,\n  sciencePoints // Предполагаем, что sciencePoints передаются как prop\n}) => {\n  const isFifthUpgrade = (level + 1) % 5 === 0; // Проверяем, является ли следующий уровень пятым\n\n  if (!unlocked) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\",\n      onClick: onUnlock,\n      children: [\"Unlock for $\", unlockCost]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: `url(${backgroundImage})`\n    },\n    className: \"bg-gray-700 p-5 rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl mb-4\",\n      children: [\"Income: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-bold\",\n        children: [\"$\", convertNumberToShortForm(income.toFixed(2) * multiplier.toFixed(2))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 43\n      }, this), \" per second\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl mb-4\",\n      children: [\"Your Level: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-bold\",\n        children: level\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\",\n      onClick: onUpgrade,\n      disabled: isFifthUpgrade && sciencePoints < 1 // Отключить кнопку, если это пятое улучшение и не хватает очков науки\n      ,\n      children: isFifthUpgrade ? `Upgrade for ${convertNumberToShortForm(upgradeCost.toFixed(2))} and 1 Science Point` : `Upgrade for ${convertNumberToShortForm(upgradeCost.toFixed(2))}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_c = BusinessWindow;\nconst BuisnessGame = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const resetGame = () => {\n    setPurchasedLocations(false);\n    setPurchasedUpgrade(false);\n    setGreenCrystals(1000);\n    setSciencePoints(0);\n    // Сброс состояний до начальных значений\n    setBalance(0);\n    setIncome(1);\n    setUpgradeCost(10);\n    setUpgradeCount(0);\n    setSecondWindowUnlocked(false);\n    setSecondIncome(0);\n    setSecUpgradeCost(100);\n    setSecUpgradeCount(0);\n    setThirdWindowUnlocked(false);\n    setThirdIncome(0);\n    setThirdUpgradeCost(10000);\n    setThirdUpgradeCount(0);\n    setFirstBusinessMultiplier(1);\n    setSecondBusinessMultiplier(1);\n    setThirdBusinessMultiplier(1);\n\n    // Очистка localStorage\n    localStorage.clear();\n  };\n  const [isLabOpen, setIsLabOpen] = useState(false);\n  const [isResearching, setIsResearching] = useState(false);\n  const [researchTimeLeft, setResearchTimeLeft] = useState(60); // Время в секундах\n  const [sciencePoints, setSciencePoints] = useState(0);\n\n  // Функция для начала исследования\n  const startResearch = () => {\n    if (!isResearching) {\n      setIsResearching(true);\n      let timer = researchTimeLeft;\n      const intervalId = setInterval(() => {\n        timer -= 1;\n        setResearchTimeLeft(timer);\n        if (timer <= 0) {\n          clearInterval(intervalId);\n          setIsResearching(false);\n          setSciencePoints(sciencePoints + 1); // Начисляем очки науки\n          setResearchTimeLeft(60); // Сброс таймера\n        }\n      }, 1000);\n    }\n  };\n\n  // Отображение лаборатории\n  const toggleLab = () => {\n    if (isStoreOpen) setIsStoreOpen(false);\n    setIsLabOpen(!isLabOpen);\n  };\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef(new Audio(backgroundMusic));\n  useEffect(() => {\n    // Автоматическое воспроизведение, когда компонент монтируется\n    audioRef.current.play().catch(e => console.log(`Не удалось воспроизвести звук: ${e}`));\n    audioRef.current.loop = true;\n\n    // Очистка перед размонтированием компонента\n    return () => {\n      audioRef.current.pause();\n    };\n  }, []);\n  useEffect(() => {\n    // Управление воспроизведением музыки\n    isPlaying ? audioRef.current.play() : audioRef.current.pause();\n  }, [isPlaying]);\n  const toggleSound = () => {\n    setIsPlaying(!isPlaying);\n  };\n  function convertNumberToShortForm(number) {\n    let suffixes = 'ambtdefghijklnopqrsuvwxyz'.split('');\n    let suffixIndex = -1;\n    let processedNumber = number;\n    if (processedNumber >= 999999) {\n      while (processedNumber >= 1000) {\n        processedNumber /= 1000;\n        suffixIndex++;\n      }\n    } else {\n      return number;\n    }\n    let suffix = suffixIndex === -1 ? '' : suffixes[suffixIndex % suffixes.length];\n    // Для суффиксов больше 'z', добавляем дополнительную букву\n    let additionalSuffix = Math.floor(suffixIndex / suffixes.length);\n    if (additionalSuffix > 0) {\n      suffix = String.fromCharCode(96 + additionalSuffix) + suffix;\n    }\n    return processedNumber.toFixed(2) + suffix;\n  }\n  const TotalUpgrade = ({\n    id,\n    totname,\n    totcost,\n    totOnPurshcase,\n    totPurchcased\n  }) => {\n    _s();\n    const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n    const handlePurchase = () => {\n      // Если покупка успешна, деактивируем кнопку\n      if (totOnPurshcase(id, totcost)) {\n        setIsButtonDisabled(true);\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-600 p-4 rounded-lg shadow-inner mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg\",\n          children: totname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C: \", totcost, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Effect: income x2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), !totPurchcased && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePurchase,\n          disabled: isButtonDisabled,\n          className: `bg-blue-500 text-white font-bold py-2 px-4 rounded mt-3 ${isButtonDisabled ? 'opacity-50 cursor-not-allowed' : 'hover:bg-blue-700'}`,\n          children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), totPurchcased && /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: true,\n          className: \"bg-green-500 text-white font-bold py-2 px-4 rounded mt-3 opacity-50 cursor-not-allowed\",\n          children: \"\\u041A\\u0443\\u043F\\u043B\\u0435\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n  _s(TotalUpgrade, \"NNpRvGDGXdN4gswy7I1XwMQqqbI=\");\n  const [isStoreOpen, setIsStoreOpen] = useState(false);\n  const toggleStore = () => {\n    if (isLabOpen) setIsLabOpen(false);\n    setIsStoreOpen(!isStoreOpen);\n  };\n  const [firstBusinessMultiplier, setFirstBusinessMultiplier] = useState(() => {\n    const savedMultiplier = localStorage.getItem('firstBusinessMultiplier');\n    return savedMultiplier ? Number(savedMultiplier) : 1;\n  });\n  const [secondBusinessMultiplier, setSecondBusinessMultiplier] = useState(() => {\n    const savedMultiplier = localStorage.getItem('secondBusinessMultiplier');\n    return savedMultiplier ? Number(savedMultiplier) : 1;\n  });\n  const [thirdBusinessMultiplier, setThirdBusinessMultiplier] = useState(() => {\n    const savedMultiplier = localStorage.getItem('thirdBusinessMultiplier');\n    return savedMultiplier ? Number(savedMultiplier) : 1;\n  });\n  const locations = [{\n    id: 1,\n    name: 'Desert',\n    cost: 1000\n  }\n  // Добавьте здесь больше локаций по мере необходимости\n  ];\n  const totalUpgrade = [{\n    id: 2,\n    totname: 'First Buisness Upgrade #1',\n    totcost: 100\n  }, {\n    id: 3,\n    totname: 'Second Buisness Upgrade #1',\n    totcost: 10000\n  }, {\n    id: 4,\n    totname: 'Third Buisness Upgrade #1',\n    totcost: 100000\n  }, {\n    id: 5,\n    totname: 'First Buisness Upgrade #2',\n    totcost: 10000\n  }, {\n    id: 6,\n    totname: 'Second Buisness Upgrade #2',\n    totcost: 50000\n  }, {\n    id: 7,\n    totname: 'Third Buisness Upgrade #2',\n    totcost: 500000\n  }];\n  const convertBalanceToGreenCrystals = () => {\n    const conversionRate = 10000; // Курс обмена\n    const newGreenCrystals = balance / conversionRate;\n    setGreenCrystals(currentGreenCrystals => currentGreenCrystals + newGreenCrystals);\n    setBalance(0); // Обнуляем balance после конвертации\n    // Предполагается, что balance полностью конвертируется в greenCrystals\n  };\n  const purchaseUpgrade = (id, cost) => {\n    if (balance >= cost) {\n      // Обновляем баланс\n      setBalance(currentBalance => {\n        const newBalance = currentBalance - cost;\n        localStorage.setItem('balance', newBalance.toString());\n        return newBalance;\n      });\n\n      // Обновляем апгрейды\n      setPurchasedUpgrade(prev => {\n        const updatedUpgrades = {\n          ...prev,\n          [id]: true\n        };\n        localStorage.setItem('purchasedUpgrade', JSON.stringify(updatedUpgrades));\n        return updatedUpgrades;\n      });\n\n      // Определите, какой бизнес нужно улучшить на основе id улучшения\n      if (id === 2) {\n        // Предполагаем, что id 2 относится к первому бизнесу\n        setFirstBusinessMultiplier(prevMultiplier => {\n          const newMultiplier = prevMultiplier * 2;\n          // Здесь вы также можете сохранить этот новый множитель в localStorage, если это необходимо\n          return newMultiplier;\n        });\n      } else if (id === 3) {\n        setSecondBusinessMultiplier(prev => prev * 2);\n      } else if (id === 4) {\n        setThirdBusinessMultiplier(prev => prev * 2);\n      } else if (id === 5) {\n        setFirstBusinessMultiplier(prev => prev * 2);\n      } else if (id === 6) {\n        setSecondBusinessMultiplier(prev => prev * 2);\n      } else if (id === 7) {\n        setThirdBusinessMultiplier(prev => prev * 2);\n      }\n    } else {\n      alert('Not enough balance to unlock!');\n    }\n  };\n  const purchaseLocation = (id, cost) => {\n    if (greenCrystals >= cost) {\n      setGreenCrystals(currentGreenCrystals => currentGreenCrystals - cost);\n      setPurchasedLocations(prevLocations => {\n        const updatedLocations = {\n          ...prevLocations,\n          [id]: true\n        };\n        localStorage.setItem('purchasedLocations', JSON.stringify(updatedLocations));\n        return updatedLocations;\n      });\n    } else {\n      alert('Not enough green crystals to purchase!');\n    }\n  };\n  //valuta green crystals\n\n  //const [isPlaying, setIsPlaying] = useState(false);\n\n  const [purchasedUpgrade, setPurchasedUpgrade] = useState(() => {\n    const saved = localStorage.getItem('purchasedUpgrade');\n    return saved ? JSON.parse(saved) : {};\n  });\n  const [greenCrystals, setGreenCrystals] = useState(() => Number(localStorage.getItem('greenCrystals')) || 0);\n  const [purchasedLocations, setPurchasedLocations] = useState(() => {\n    const savedLocations = localStorage.getItem('purchasedLocations');\n    return savedLocations ? JSON.parse(savedLocations) : {};\n  });\n  //first bussiness\n  const [balance, setBalance] = useState(() => Number(localStorage.getItem('balance')) || 0);\n  const [income, setIncome] = useState(() => {\n    const savedIncome = localStorage.getItem('income');\n    return savedIncome ? Number(savedIncome) : 1;\n  });\n  const [upgradeCost, setUpgradeCost] = useState(() => Number(localStorage.getItem('upgradeCost')) || 10);\n  const [upgradeCount, setUpgradeCount] = useState(() => Number(localStorage.getItem('upgradeCount')) || 0);\n\n  //second bussiness\n  const [secondWindowUnlocked, setSecondWindowUnlocked] = useState(() => Number(localStorage.getItem('secondWindowUnlocked')) || 0);\n  const [secondIncome, setSecondIncome] = useState(() => Number(localStorage.getItem('secondIncome')) || 0);\n  const [secUpgradeCost, setSecUpgradeCost] = useState(() => Number(localStorage.getItem('secUpgradeCost')) || 100);\n  const [secUpgradeCount, setSecUpgradeCount] = useState(() => Number(localStorage.getItem('secUpgradeCount')) || 0);\n\n  //third bussiness\n  const [thirdWindowUnlocked, setThirdWindowUnlocked] = useState(() => Number(localStorage.getItem('thirdWindowUnlocked')) || 0);\n  const [thirdIncome, setThirdIncome] = useState(() => Number(localStorage.getItem('thirdIncome')) || 0);\n  const [thirdUpgradeCost, setThirdUpgradeCost] = useState(() => Number(localStorage.getItem('thirdUpgradeCost')) || 10000);\n  const [thirdUpgradeCount, setThirdUpgradeCount] = useState(() => Number(localStorage.getItem('thirdUpgradeCount')) || 0);\n  const secondUnlockCost = 1000;\n  const thirdUnlockCost = 50000;\n  useEffect(() => {\n    // Сохранение текущего состояния в localStorage\n    const saveState = () => {\n      localStorage.setItem('firstBusinessMultiplier', firstBusinessMultiplier.toString());\n      localStorage.setItem('secondBusinessMultiplier', secondBusinessMultiplier.toString());\n      localStorage.setItem('thirdBusinessMultiplier', thirdBusinessMultiplier.toString());\n      localStorage.setItem('purchasedUpgrade', JSON.stringify(purchasedUpgrade));\n      localStorage.setItem('purchasedLocations', JSON.stringify(purchasedLocations));\n      localStorage.setItem('greenCrystals', greenCrystals.toString());\n      //first Window\n      localStorage.setItem('balance', balance.toString());\n      localStorage.setItem('income', income.toString());\n      localStorage.setItem('upgradeCost', upgradeCost.toString());\n      localStorage.setItem('upgradeCount', upgradeCount.toString());\n      //second Window\n      localStorage.setItem('secondWindowUnlocked', secondWindowUnlocked ? '1' : '0');\n      localStorage.setItem('secondIncome', secondIncome.toString());\n      localStorage.setItem('secUpgradeCost', secUpgradeCost.toString());\n      localStorage.setItem('secUpgradeCount', secUpgradeCount.toString());\n      //third Window\n      localStorage.setItem('thirdWindowUnlocked', thirdWindowUnlocked ? '1' : '0');\n      localStorage.setItem('thirdIncome', thirdIncome.toString());\n      localStorage.setItem('thirdUpgradeCost', thirdUpgradeCost.toString());\n      localStorage.setItem('thirdUpgradeCount', thirdUpgradeCount.toString());\n    };\n\n    // Вызов сохранения состояния при изменении любого из состояний\n    saveState();\n  }, [balance, income, upgradeCost, upgradeCount, secondWindowUnlocked, secondIncome, secUpgradeCost, secUpgradeCount, thirdWindowUnlocked, thirdIncome, thirdUpgradeCost, thirdUpgradeCount, greenCrystals, purchasedLocations, purchasedUpgrade, secondBusinessMultiplier, firstBusinessMultiplier, thirdBusinessMultiplier]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setBalance(currentBalance => currentBalance + income * firstBusinessMultiplier + secondIncome * secondBusinessMultiplier + thirdIncome * thirdBusinessMultiplier);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [income, firstBusinessMultiplier, secondIncome, secondBusinessMultiplier, thirdIncome, thirdBusinessMultiplier]);\n  const purshcaseUpgrade = () => {\n    const isFifthUpgrade = (upgradeCount + 1) % 5 === 0; // Проверяем, является ли это пятым улучшением\n\n    if (balance >= upgradeCost && (!isFifthUpgrade || isFifthUpgrade && sciencePoints > 0)) {\n      setIncome(currentIncome => currentIncome * 1.5); // Увеличиваем доход\n      setBalance(currentBalance => currentBalance - upgradeCost); // Уменьшаем баланс на стоимость улучшения\n      setUpgradeCount(upgradeCount => upgradeCount + 1); // Увеличиваем счётчик улучшений\n\n      setUpgradeCost(currentCost => currentCost * 2); // Увеличиваем стоимость следующего улучшения\n\n      if (isFifthUpgrade) {\n        // Если это пятое улучшение, уменьшаем количество очков науки\n        setSciencePoints(currentPoints => currentPoints - 1);\n        setIncome(currentIncome => currentIncome * 1.2); // Дополнительное увеличение дохода\n      }\n      if ((upgradeCount + 1) % 10 === 0) {\n        // Каждое десятое улучшение увеличиваем доход еще больше\n        setIncome(currentIncome => currentIncome * 1.3);\n      }\n    } else {\n      // Если средств недостаточно или не хватает очков науки для пятого улучшения\n      let errorMessage = \"Balance not enough!\";\n      if (isFifthUpgrade && sciencePoints === 0) {\n        errorMessage = \"Not enough science points for this upgrade!\";\n      }\n      alert(errorMessage);\n    }\n  };\n  const unlockSecondWindow = () => {\n    if (balance >= secondUnlockCost && !secondWindowUnlocked) {\n      setBalance(prevBalance => prevBalance - secondUnlockCost);\n      setSecondWindowUnlocked(true);\n      localStorage.setItem('secondWindowUnlocked', '1');\n    } else {\n      alert(\"Not enough balance to unlock!\");\n    }\n  };\n  const unlockThirdWindow = () => {\n    if (balance >= thirdUnlockCost && !thirdWindowUnlocked) {\n      setBalance(prevBalance => prevBalance - thirdUnlockCost);\n      setThirdWindowUnlocked(true);\n      localStorage.setItem('thirdWindowUnlocked', '1');\n    } else {\n      alert('Not enough balance to unlock!');\n    }\n  };\n  const secPurshcaseUpgrade = () => {\n    if (balance >= secUpgradeCost) {\n      setSecondIncome(currentsecondIncome => currentsecondIncome * 1.7 + 10);\n      setBalance(prevBalance => prevBalance - secUpgradeCost);\n      setSecUpgradeCount(secUpgradeCount + 1);\n      setSecUpgradeCost(currentsecCost => currentsecCost * 2.5);\n      if ((secUpgradeCount + 1) % 5 === 0) {\n        setSecondIncome(currentsecondIncome => currentsecondIncome * 1.25);\n      }\n      if ((secUpgradeCount + 1) % 10 === 0) {\n        setSecondIncome(currentsecondIncome => currentsecondIncome * 1.5) && setSecUpgradeCost(currentsecCost => currentsecCost * 1.25);\n      }\n      if ((secUpgradeCount + 1) % 100 === 0) {\n        setSecondIncome(currentsecondIncome => currentsecondIncome * 1.5);\n      }\n    } else {\n      alert(\"balance not enough!\");\n    }\n  };\n  const thirdPurshcaseUpgrade = () => {\n    if (balance >= thirdUpgradeCost) {\n      setThirdIncome(currentthirdIncome => currentthirdIncome * 2 + 100);\n      setBalance(prevBalance => prevBalance - thirdUpgradeCost);\n      setThirdUpgradeCount(thirdUpgradeCount + 1);\n      setThirdUpgradeCost(currentthirdCost => currentthirdCost * 3);\n      if ((thirdUpgradeCount + 1) % 5 === 0) {\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5);\n      }\n      if ((secUpgradeCount + 1) % 10 === 0) {\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5) && setSecUpgradeCost(currentsecCost => currentsecCost * 1.5);\n      }\n      if ((secUpgradeCount + 1) % 100 === 0) {\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5);\n      }\n    } else {\n      alert(\"balance not enough!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${backgroundImage})`\n      },\n      className: \"min-h-screen bg-gray-800 text-white flex flex-col items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-0 top-0 m-4 flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleStore,\n          className: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\",\n          children: \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleLab,\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n          children: \"\\u041B\\u0430\\u0431\\u043E\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleSound,\n          className: `ml-4 w-10 h-10 flex items-center justify-center rounded-full bg-green-500 text-white font-bold text-2xl border-2 border-green-500 transition duration-300 ease-in-out`,\n          children: isPlaying ? '🔊' : '🔇'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 7\n      }, this), isLabOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-0 mt-5 top-14 mr-4 bg-gray-700 p-5 rounded-lg shadow-lg\",\n        style: {\n          zIndex: 100,\n          maxHeight: '500px',\n          overflowY: 'auto',\n          width: '400px',\n          backgroundImage: `url(${backgroundImage})`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl mb-2\",\n          children: \"\\u041B\\u0430\\u0431\\u043E\\u0440\\u0430\\u0442\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2\",\n          children: [\"\\u041E\\u0447\\u043A\\u0438 \\u043D\\u0430\\u0443\\u043A\\u0438: \", sciencePoints]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startResearch,\n          disabled: isResearching,\n          className: \"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\",\n          children: [\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0438\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \", isResearching ? `${researchTimeLeft} сек` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this), isStoreOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          zIndex: 100,\n          maxHeight: '500px',\n          overflowY: 'auto',\n          width: '400px',\n          backgroundImage: `url(${backgroundImage})`\n        },\n        className: \"bg-gray-700 p-5 rounded-lg shadow-lg mt-5 absolute right-0 top-14 mr-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl mb-4\",\n          children: \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D \\u043B\\u043E\\u043A\\u0430\\u0446\\u0438\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: greenCrystal,\n            alt: \"Green Crystal\",\n            className: \"inline-block h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 3\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: greenCrystals.toFixed(4)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: convertBalanceToGreenCrystals,\n          className: \"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110 mb-4\",\n          children: [\"\\u041A\\u043E\\u043D\\u0432\\u0435\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441 \\u0432 \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: greenCrystal,\n            alt: \"Green Crystal\",\n            className: \"inline-block h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 3\n        }, this), locations.map(location => /*#__PURE__*/_jsxDEV(Location, {\n          id: location.id,\n          name: location.name,\n          cost: location.cost,\n          purchased: !!purchasedLocations[location.id],\n          onPurchase: purchaseLocation\n        }, location.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 9\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Upgrades\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 1\n        }, this), totalUpgrade.map(totalUpgradeItem => /*#__PURE__*/_jsxDEV(TotalUpgrade, {\n          id: totalUpgradeItem.id,\n          totname: totalUpgradeItem.totname,\n          totcost: totalUpgradeItem.totcost,\n          totPurchcased: !!purchasedUpgrade[totalUpgradeItem.id],\n          totOnPurshcase: purchaseUpgrade\n        }, totalUpgradeItem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 3\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetGame,\n        className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\",\n        children: \"Start Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold mb-6\",\n        children: \"Business Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl mb-2\",\n        children: [\"Balance: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold\",\n          children: [\"$\", convertNumberToShortForm(balance.toFixed(2))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(BusinessWindow, {\n          name: \"First Bussiness\",\n          income: income,\n          onUpgrade: purshcaseUpgrade,\n          upgradeCost: upgradeCost,\n          level: upgradeCount,\n          unlocked: true,\n          multiplier: firstBusinessMultiplier,\n          convertNumberToShortForm: convertNumberToShortForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(BusinessWindow, {\n          name: \"Second Bussiness\",\n          income: secondIncome,\n          onUpgrade: secPurshcaseUpgrade,\n          upgradeCost: secUpgradeCost,\n          level: secUpgradeCount,\n          unlocked: secondWindowUnlocked,\n          onUnlock: unlockSecondWindow,\n          unlockCost: secondUnlockCost,\n          multiplier: secondBusinessMultiplier,\n          convertNumberToShortForm: convertNumberToShortForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(BusinessWindow, {\n          name: \"Third Bussiness\",\n          income: thirdIncome,\n          onUpgrade: thirdPurshcaseUpgrade,\n          upgradeCost: thirdUpgradeCost,\n          level: thirdUpgradeCount,\n          unlocked: thirdWindowUnlocked,\n          onUnlock: unlockThirdWindow,\n          unlockCost: thirdUnlockCost,\n          multiplier: thirdBusinessMultiplier,\n          convertNumberToShortForm: convertNumberToShortForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s2(BuisnessGame, \"ao+JXWRC+WbZw3nBq3IU83Prfzc=\");\n_c2 = BuisnessGame;\nexport default BuisnessGame;\nvar _c, _c2;\n$RefreshReg$(_c, \"BusinessWindow\");\n$RefreshReg$(_c2, \"BuisnessGame\");","map":{"version":3,"names":["useState","useEffect","useRef","Location","backgroundMusic","backgroundImage","greenCrystal","jsxDEV","_jsxDEV","Fragment","_Fragment","BusinessWindow","name","income","onUpgrade","upgradeCost","level","unlocked","onUnlock","unlockCost","multiplier","convertNumberToShortForm","sciencePoints","isFifthUpgrade","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","toFixed","disabled","_c","BuisnessGame","_s2","_s","$RefreshSig$","resetGame","setPurchasedLocations","setPurchasedUpgrade","setGreenCrystals","setSciencePoints","setBalance","setIncome","setUpgradeCost","setUpgradeCount","setSecondWindowUnlocked","setSecondIncome","setSecUpgradeCost","setSecUpgradeCount","setThirdWindowUnlocked","setThirdIncome","setThirdUpgradeCost","setThirdUpgradeCount","setFirstBusinessMultiplier","setSecondBusinessMultiplier","setThirdBusinessMultiplier","localStorage","clear","isLabOpen","setIsLabOpen","isResearching","setIsResearching","researchTimeLeft","setResearchTimeLeft","startResearch","timer","intervalId","setInterval","clearInterval","toggleLab","isStoreOpen","setIsStoreOpen","isPlaying","setIsPlaying","audioRef","Audio","current","play","catch","e","console","log","loop","pause","toggleSound","number","suffixes","split","suffixIndex","processedNumber","suffix","length","additionalSuffix","Math","floor","String","fromCharCode","TotalUpgrade","id","totname","totcost","totOnPurshcase","totPurchcased","isButtonDisabled","setIsButtonDisabled","handlePurchase","toggleStore","firstBusinessMultiplier","savedMultiplier","getItem","Number","secondBusinessMultiplier","thirdBusinessMultiplier","locations","cost","totalUpgrade","convertBalanceToGreenCrystals","conversionRate","newGreenCrystals","balance","currentGreenCrystals","purchaseUpgrade","currentBalance","newBalance","setItem","toString","prev","updatedUpgrades","JSON","stringify","prevMultiplier","newMultiplier","alert","purchaseLocation","greenCrystals","prevLocations","updatedLocations","purchasedUpgrade","saved","parse","purchasedLocations","savedLocations","savedIncome","upgradeCount","secondWindowUnlocked","secondIncome","secUpgradeCost","secUpgradeCount","thirdWindowUnlocked","thirdIncome","thirdUpgradeCost","thirdUpgradeCount","secondUnlockCost","thirdUnlockCost","saveState","interval","purshcaseUpgrade","currentIncome","currentCost","currentPoints","errorMessage","unlockSecondWindow","prevBalance","unlockThirdWindow","secPurshcaseUpgrade","currentsecondIncome","currentsecCost","thirdPurshcaseUpgrade","currentthirdIncome","currentthirdCost","zIndex","maxHeight","overflowY","width","src","alt","map","location","purchased","onPurchase","totalUpgradeItem","_c2","$RefreshReg$"],"sources":["D:/Morrison/Idle-Clicker-Game/my-app/src/BuisnessGame.js"],"sourcesContent":["import {useState, useEffect, useRef} from 'react'\r\nimport Location from './Component/Location';\r\nimport backgroundMusic from './Audio/please-calm-my-mind-125566.mp3'\r\nimport backgroundImage from './Photo/Fone.webp'\r\nimport greenCrystal from './Photo/greenCrystal.png'\r\n\r\nconst BusinessWindow = ({\r\n  name,\r\n  income,\r\n  onUpgrade,\r\n  upgradeCost,\r\n  level,\r\n  unlocked,\r\n  onUnlock,\r\n  unlockCost,\r\n  multiplier,\r\n  convertNumberToShortForm,\r\n  sciencePoints // Предполагаем, что sciencePoints передаются как prop\r\n}) => {\r\n  const isFifthUpgrade = (level + 1) % 5 === 0; // Проверяем, является ли следующий уровень пятым\r\n\r\n  if (!unlocked) {\r\n    return (\r\n      <button \r\n        className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\"\r\n        onClick={onUnlock}\r\n      >\r\n        Unlock for ${unlockCost}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ backgroundImage: `url(${backgroundImage})` }} className=\"bg-gray-700 p-5 rounded-lg shadow-lg\">\r\n      <h3 className=\"text-2xl font-bold mb-4\">{name}</h3>\r\n      <p className=\"text-xl mb-4\">Income: <span className=\"font-bold\">${convertNumberToShortForm(income.toFixed(2) * multiplier.toFixed(2))}</span> per second</p>\r\n      <p className=\"text-xl mb-4\">Your Level: <span className=\"font-bold\">{level}</span></p>\r\n      <button \r\n        className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\"\r\n        onClick={onUpgrade}\r\n        disabled={isFifthUpgrade && sciencePoints < 1} // Отключить кнопку, если это пятое улучшение и не хватает очков науки\r\n      >\r\n        {isFifthUpgrade ? `Upgrade for ${convertNumberToShortForm(upgradeCost.toFixed(2))} and 1 Science Point` : `Upgrade for ${convertNumberToShortForm(upgradeCost.toFixed(2))}`}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst BuisnessGame = () => {\r\n  const resetGame = () => {\r\n    setPurchasedLocations(false);\r\n    setPurchasedUpgrade(false);\r\n    setGreenCrystals(1000);\r\n    setSciencePoints(0)\r\n    // Сброс состояний до начальных значений\r\n    setBalance(0);\r\n    setIncome(1);\r\n    setUpgradeCost(10);\r\n    setUpgradeCount(0);\r\n\r\n    setSecondWindowUnlocked(false);\r\n    setSecondIncome(0);\r\n    setSecUpgradeCost(100);\r\n    setSecUpgradeCount(0);\r\n\r\n    setThirdWindowUnlocked(false);\r\n    setThirdIncome(0);\r\n    setThirdUpgradeCost(10000);\r\n    setThirdUpgradeCount(0);\r\n\r\n    setFirstBusinessMultiplier(1);\r\n    setSecondBusinessMultiplier(1);\r\n    setThirdBusinessMultiplier(1);\r\n\r\n\r\n    // Очистка localStorage\r\n    localStorage.clear();\r\n  };\r\n\r\n\r\n  const [isLabOpen, setIsLabOpen] = useState(false);\r\n  const [isResearching, setIsResearching] = useState(false);\r\n  const [researchTimeLeft, setResearchTimeLeft] = useState(60); // Время в секундах\r\n  const [sciencePoints, setSciencePoints] = useState(0);\r\n\r\n  // Функция для начала исследования\r\n  const startResearch = () => {\r\n    if (!isResearching) {\r\n      setIsResearching(true);\r\n      let timer = researchTimeLeft;\r\n      const intervalId = setInterval(() => {\r\n        timer -= 1;\r\n        setResearchTimeLeft(timer);\r\n        if (timer <= 0) {\r\n          clearInterval(intervalId);\r\n          setIsResearching(false);\r\n          setSciencePoints(sciencePoints + 1); // Начисляем очки науки\r\n          setResearchTimeLeft(60); // Сброс таймера\r\n        }\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  // Отображение лаборатории\r\n  const toggleLab = () => {\r\n    if (isStoreOpen) setIsStoreOpen(false);\r\n    setIsLabOpen(!isLabOpen);\r\n  };\r\n\r\n\r\n\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const audioRef = useRef(new Audio(backgroundMusic));\r\n\r\n  useEffect(() => {\r\n    // Автоматическое воспроизведение, когда компонент монтируется\r\n    audioRef.current.play().catch((e) => console.log(`Не удалось воспроизвести звук: ${e}`));\r\n    audioRef.current.loop = true;\r\n\r\n    // Очистка перед размонтированием компонента\r\n    return () => {\r\n      audioRef.current.pause();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Управление воспроизведением музыки\r\n    isPlaying ? audioRef.current.play() : audioRef.current.pause();\r\n  }, [isPlaying]);\r\n\r\n  const toggleSound = () => {\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n\r\n  function convertNumberToShortForm(number) {\r\n    let suffixes = 'ambtdefghijklnopqrsuvwxyz'.split('');\r\n    let suffixIndex = -1;\r\n    let processedNumber = number;\r\n\r\n  if (processedNumber >= 999999)  {\r\n    while (processedNumber >= 1000) {\r\n      processedNumber /= 1000;\r\n      suffixIndex++;\r\n    }\r\n  } else {\r\n    return(number);\r\n  }\r\n  \r\n    let suffix = suffixIndex === -1 ? '' : suffixes[suffixIndex % suffixes.length];\r\n    // Для суффиксов больше 'z', добавляем дополнительную букву\r\n    let additionalSuffix = Math.floor(suffixIndex / suffixes.length);\r\n    if (additionalSuffix > 0) {\r\n      suffix = String.fromCharCode(96 + additionalSuffix) + suffix;\r\n    }\r\n  \r\n    return processedNumber.toFixed(2) + suffix;\r\n  }\r\n \r\n  const TotalUpgrade = ({ id, totname, totcost, totOnPurshcase, totPurchcased }) => {\r\n\r\n    const [isButtonDisabled, setIsButtonDisabled] = useState(false);\r\n\r\n    const handlePurchase = () => {\r\n        // Если покупка успешна, деактивируем кнопку\r\n        if(totOnPurshcase(id, totcost)) {\r\n            setIsButtonDisabled(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <div key={id} className=\"bg-gray-600 p-4 rounded-lg shadow-inner mt-2\">\r\n          <h3 className=\"text-lg\">{totname}</h3>\r\n          <p>Стоимость: {totcost} $</p>\r\n          <p>Effect: income x2</p>\r\n          {!totPurchcased && (\r\n            <button\r\n              onClick={handlePurchase}\r\n              disabled={isButtonDisabled}\r\n              className={`bg-blue-500 text-white font-bold py-2 px-4 rounded mt-3 ${isButtonDisabled ? 'opacity-50 cursor-not-allowed' : 'hover:bg-blue-700'}`}\r\n            >\r\n              Купить\r\n            </button>\r\n          )}\r\n          {totPurchcased && (\r\n            <button\r\n              disabled={true}\r\n              className=\"bg-green-500 text-white font-bold py-2 px-4 rounded mt-3 opacity-50 cursor-not-allowed\"\r\n            >\r\n              Куплено\r\n            </button>\r\n          )}\r\n        </div>   \r\n        </>\r\n    );\r\n}\r\n \r\n  const [isStoreOpen, setIsStoreOpen] = useState(false);\r\n  \r\n\r\n  const toggleStore = () => {\r\n    if (isLabOpen) setIsLabOpen(false);\r\n    setIsStoreOpen(!isStoreOpen);\r\n  };\r\n\r\n  const [firstBusinessMultiplier, setFirstBusinessMultiplier] = useState(() => {\r\n    const savedMultiplier = localStorage.getItem('firstBusinessMultiplier');\r\n    return savedMultiplier ? Number(savedMultiplier) : 1;\r\n  });\r\n  const [secondBusinessMultiplier, setSecondBusinessMultiplier] = useState(() => {\r\n    const savedMultiplier = localStorage.getItem('secondBusinessMultiplier');\r\n    return savedMultiplier ? Number(savedMultiplier) : 1;\r\n  });\r\n  const [thirdBusinessMultiplier, setThirdBusinessMultiplier] = useState(() => {\r\n    const savedMultiplier = localStorage.getItem('thirdBusinessMultiplier');\r\n    return savedMultiplier ? Number(savedMultiplier) : 1;\r\n  });\r\n  const locations = [\r\n    { id: 1, name: 'Desert', cost: 1000 }\r\n    // Добавьте здесь больше локаций по мере необходимости\r\n  ];\r\n\r\n  const totalUpgrade = [\r\n    { \r\n      id: 2, totname: 'First Buisness Upgrade #1', totcost: 100\r\n    },\r\n    {\r\n      id: 3, totname: 'Second Buisness Upgrade #1', totcost: 10000\r\n    },\r\n    {\r\n      id: 4, totname: 'Third Buisness Upgrade #1', totcost: 100000\r\n    },\r\n    { \r\n      id: 5, totname: 'First Buisness Upgrade #2', totcost: 10000\r\n    },\r\n    {\r\n      id: 6, totname: 'Second Buisness Upgrade #2', totcost: 50000\r\n    },\r\n    {\r\n      id: 7, totname: 'Third Buisness Upgrade #2', totcost: 500000\r\n    },\r\n    \r\n  ]\r\n\r\n  const convertBalanceToGreenCrystals = () => {\r\n    const conversionRate = 10000; // Курс обмена\r\n    const newGreenCrystals = balance / conversionRate;\r\n    setGreenCrystals(currentGreenCrystals => currentGreenCrystals + newGreenCrystals);\r\n    setBalance(0); // Обнуляем balance после конвертации\r\n    // Предполагается, что balance полностью конвертируется в greenCrystals\r\n  };\r\n\r\n  const purchaseUpgrade = (id, cost) => {\r\n    if (balance >= cost) {\r\n      // Обновляем баланс\r\n      setBalance(currentBalance => {\r\n        const newBalance = currentBalance - cost;\r\n        localStorage.setItem('balance', newBalance.toString());\r\n        return newBalance;\r\n      });\r\n    \r\n      // Обновляем апгрейды\r\n      setPurchasedUpgrade(prev => {\r\n        const updatedUpgrades = { ...prev, [id]: true };\r\n        localStorage.setItem('purchasedUpgrade', JSON.stringify(updatedUpgrades));\r\n        return updatedUpgrades;\r\n      });\r\n      \r\n      // Определите, какой бизнес нужно улучшить на основе id улучшения\r\n      if (id === 2) { // Предполагаем, что id 2 относится к первому бизнесу\r\n        setFirstBusinessMultiplier(prevMultiplier => {\r\n          const newMultiplier = prevMultiplier * 2;\r\n          // Здесь вы также можете сохранить этот новый множитель в localStorage, если это необходимо\r\n          return newMultiplier;\r\n        });\r\n      } else if (id === 3) {\r\n        setSecondBusinessMultiplier(prev => prev * 2);\r\n      } else if (id === 4) {\r\n        setThirdBusinessMultiplier(prev => prev * 2);\r\n      } else if (id === 5) {\r\n        setFirstBusinessMultiplier(prev => prev * 2);\r\n      } else if (id === 6) {\r\n        setSecondBusinessMultiplier(prev => prev * 2);\r\n      } else if (id ===7) {\r\n        setThirdBusinessMultiplier(prev => prev * 2);\r\n      }\r\n    } else {\r\n      alert('Not enough balance to unlock!');\r\n    }\r\n  };\r\n\r\n  const purchaseLocation = (id, cost) => {\r\n    if (greenCrystals >= cost) {\r\n      setGreenCrystals(currentGreenCrystals => currentGreenCrystals - cost);\r\n      setPurchasedLocations(prevLocations => {\r\n        const updatedLocations = { ...prevLocations, [id]: true };\r\n        localStorage.setItem('purchasedLocations', JSON.stringify(updatedLocations));\r\n        return updatedLocations;\r\n      });\r\n    } else {\r\n      alert('Not enough green crystals to purchase!');\r\n    }\r\n  };\r\n  //valuta green crystals\r\n\r\n  //const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  const [purchasedUpgrade, setPurchasedUpgrade] = useState(() => {\r\n    const saved = localStorage.getItem('purchasedUpgrade');\r\n    return saved ? JSON.parse(saved) : {};\r\n  });\r\n  const [greenCrystals, setGreenCrystals] = useState(() => Number(localStorage.getItem('greenCrystals')) || 0);\r\n  const [purchasedLocations, setPurchasedLocations] = useState(() => {\r\n    const savedLocations = localStorage.getItem('purchasedLocations');\r\n    return savedLocations ? JSON.parse(savedLocations) : {};\r\n  });\r\n  //first bussiness\r\n  const [balance, setBalance] = useState(() => Number(localStorage.getItem('balance')) || 0);\r\n  const [income, setIncome] = useState(() => {\r\n    const savedIncome = localStorage.getItem('income');\r\n    return savedIncome ? Number(savedIncome) : 1;\r\n  });\r\n  const [upgradeCost, setUpgradeCost] = useState(() => Number(localStorage.getItem('upgradeCost')) || 10);\r\n  const [upgradeCount, setUpgradeCount] = useState(() => Number(localStorage.getItem('upgradeCount')) || 0);\r\n\r\n  //second bussiness\r\n  const [secondWindowUnlocked, setSecondWindowUnlocked] = useState(() => Number(localStorage.getItem('secondWindowUnlocked')) || 0);\r\n  const [secondIncome, setSecondIncome] = useState(() => Number(localStorage.getItem('secondIncome')) || 0);\r\n  const [secUpgradeCost, setSecUpgradeCost] = useState(() => Number(localStorage.getItem('secUpgradeCost')) || 100);\r\n  const [secUpgradeCount, setSecUpgradeCount] = useState(() => Number(localStorage.getItem('secUpgradeCount')) || 0);\r\n  \r\n  //third bussiness\r\n  const [thirdWindowUnlocked, setThirdWindowUnlocked] = useState(() => Number(localStorage.getItem('thirdWindowUnlocked')) || 0);\r\n  const [thirdIncome, setThirdIncome] = useState(() => Number(localStorage.getItem('thirdIncome')) || 0);\r\n  const [thirdUpgradeCost, setThirdUpgradeCost] = useState(() => Number(localStorage.getItem('thirdUpgradeCost')) || 10000);\r\n  const [thirdUpgradeCount, setThirdUpgradeCount] = useState(() => Number(localStorage.getItem('thirdUpgradeCount')) || 0);\r\n\r\n  const secondUnlockCost = 1000;\r\n  const thirdUnlockCost = 50000;\r\n\r\n  useEffect(() => {\r\n    // Сохранение текущего состояния в localStorage\r\n    const saveState = () => {\r\n      localStorage.setItem('firstBusinessMultiplier', firstBusinessMultiplier.toString());\r\n      localStorage.setItem('secondBusinessMultiplier', secondBusinessMultiplier.toString());\r\n      localStorage.setItem('thirdBusinessMultiplier', thirdBusinessMultiplier.toString());\r\n      localStorage.setItem('purchasedUpgrade', JSON.stringify(purchasedUpgrade));\r\n\r\n      localStorage.setItem('purchasedLocations', JSON.stringify(purchasedLocations));\r\n      localStorage.setItem('greenCrystals', greenCrystals.toString());\r\n      //first Window\r\n      localStorage.setItem('balance', balance.toString());\r\n      localStorage.setItem('income', income.toString());\r\n      localStorage.setItem('upgradeCost', upgradeCost.toString());\r\n      localStorage.setItem('upgradeCount', upgradeCount.toString());\r\n      //second Window\r\n      localStorage.setItem('secondWindowUnlocked', secondWindowUnlocked ? '1' : '0');\r\n      localStorage.setItem('secondIncome', secondIncome.toString());\r\n      localStorage.setItem('secUpgradeCost', secUpgradeCost.toString());\r\n      localStorage.setItem('secUpgradeCount', secUpgradeCount.toString());\r\n      //third Window\r\n      localStorage.setItem('thirdWindowUnlocked', thirdWindowUnlocked ? '1' : '0');\r\n      localStorage.setItem('thirdIncome', thirdIncome.toString());\r\n      localStorage.setItem('thirdUpgradeCost', thirdUpgradeCost.toString());\r\n      localStorage.setItem('thirdUpgradeCount', thirdUpgradeCount.toString());\r\n    };\r\n\r\n    // Вызов сохранения состояния при изменении любого из состояний\r\n    saveState();\r\n  }, [balance, income, upgradeCost, upgradeCount, secondWindowUnlocked, secondIncome, secUpgradeCost, secUpgradeCount, thirdWindowUnlocked, thirdIncome, thirdUpgradeCost, thirdUpgradeCount, greenCrystals, purchasedLocations, purchasedUpgrade, secondBusinessMultiplier, firstBusinessMultiplier, thirdBusinessMultiplier]);\r\n\r\n    useEffect(() => {\r\n  const interval = setInterval(() => {\r\n    setBalance((currentBalance) => \r\n      currentBalance +\r\n      income * firstBusinessMultiplier +\r\n      secondIncome * secondBusinessMultiplier +\r\n      thirdIncome * thirdBusinessMultiplier\r\n    );\r\n  }, 1000);\r\n  \r\n  return() => clearInterval(interval);\r\n}, [income, firstBusinessMultiplier, secondIncome, secondBusinessMultiplier, thirdIncome, thirdBusinessMultiplier]);\r\n\r\n    const purshcaseUpgrade = () => {\r\n      const isFifthUpgrade = (upgradeCount + 1) % 5 === 0; // Проверяем, является ли это пятым улучшением\r\n\r\n  if (balance >= upgradeCost && (!isFifthUpgrade || (isFifthUpgrade && sciencePoints > 0))) {\r\n    setIncome(currentIncome => currentIncome * 1.5); // Увеличиваем доход\r\n    setBalance(currentBalance => currentBalance - upgradeCost); // Уменьшаем баланс на стоимость улучшения\r\n    setUpgradeCount(upgradeCount => upgradeCount + 1); // Увеличиваем счётчик улучшений\r\n\r\n    setUpgradeCost(currentCost => currentCost * 2); // Увеличиваем стоимость следующего улучшения\r\n\r\n    if (isFifthUpgrade) {\r\n      // Если это пятое улучшение, уменьшаем количество очков науки\r\n      setSciencePoints(currentPoints => currentPoints - 1);\r\n      setIncome(currentIncome => currentIncome * 1.2); // Дополнительное увеличение дохода\r\n    }\r\n\r\n    if ((upgradeCount + 1) % 10 === 0) {\r\n      // Каждое десятое улучшение увеличиваем доход еще больше\r\n      setIncome(currentIncome => currentIncome * 1.3);\r\n    }\r\n  } else {\r\n    // Если средств недостаточно или не хватает очков науки для пятого улучшения\r\n    let errorMessage = \"Balance not enough!\";\r\n    if (isFifthUpgrade && sciencePoints === 0) {\r\n      errorMessage = \"Not enough science points for this upgrade!\";\r\n    }\r\n    alert(errorMessage);\r\n  }\r\n};\r\n\r\n    const unlockSecondWindow = () => {\r\n      \r\n      if (balance >= secondUnlockCost && !secondWindowUnlocked) {\r\n        \r\n      setBalance(prevBalance => prevBalance - secondUnlockCost);\r\n       setSecondWindowUnlocked(true);\r\n       localStorage.setItem('secondWindowUnlocked', '1');\r\n      } else {\r\n        alert(\"Not enough balance to unlock!\");\r\n      }\r\n    };\r\n\r\n    const unlockThirdWindow = () => {\r\n      if (balance >= thirdUnlockCost && !thirdWindowUnlocked) {\r\n        setBalance(prevBalance => prevBalance - thirdUnlockCost);\r\n        setThirdWindowUnlocked(true);\r\n        localStorage.setItem('thirdWindowUnlocked', '1');\r\n      } else {\r\n        alert('Not enough balance to unlock!');\r\n      }\r\n    };\r\n     \r\n    const secPurshcaseUpgrade = () => {\r\n      if (balance >= secUpgradeCost) {\r\n        setSecondIncome(currentsecondIncome => currentsecondIncome * 1.7 + 10);\r\n        setBalance(prevBalance => prevBalance - secUpgradeCost);\r\n        setSecUpgradeCount(secUpgradeCount + 1);\r\n\r\n        setSecUpgradeCost(currentsecCost => currentsecCost * 2.5);\r\n        if ((secUpgradeCount + 1) % 5 === 0){\r\n          setSecondIncome(currentsecondIncome => currentsecondIncome * 1.25)\r\n        }\r\n        if ((secUpgradeCount + 1) % 10 === 0){\r\n          setSecondIncome(currentsecondIncome => currentsecondIncome * 1.5) && setSecUpgradeCost(currentsecCost => currentsecCost * 1.25);\r\n        }\r\n        if ((secUpgradeCount + 1) % 100 === 0){\r\n          setSecondIncome(currentsecondIncome => currentsecondIncome * 1.5);\r\n        }\r\n    } else {\r\n      alert(\"balance not enough!\");\r\n    }\r\n  };\r\n\r\n  const thirdPurshcaseUpgrade = () => {\r\n    if (balance >= thirdUpgradeCost) {\r\n      setThirdIncome(currentthirdIncome => currentthirdIncome * 2 + 100);\r\n      setBalance(prevBalance => prevBalance - thirdUpgradeCost);\r\n      setThirdUpgradeCount(thirdUpgradeCount + 1);\r\n\r\n      setThirdUpgradeCost(currentthirdCost => currentthirdCost * 3);\r\n      if ((thirdUpgradeCount + 1) % 5 === 0){\r\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5)\r\n      }\r\n      if ((secUpgradeCount + 1) % 10 === 0){\r\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5) && setSecUpgradeCost(currentsecCost => currentsecCost * 1.5);\r\n      }\r\n      if ((secUpgradeCount + 1) % 100 === 0){\r\n        setThirdIncome(currentthirdIncome => currentthirdIncome * 1.5);\r\n      }\r\n  } else {\r\n    alert(\"balance not enough!\");\r\n    }\r\n  }\r\n\r\n    return (\r\n      <>\r\n      <div style={{ backgroundImage: `url(${backgroundImage})` }} className=\"min-h-screen bg-gray-800 text-white flex flex-col items-center justify-center\">\r\n      <div className=\"absolute right-0 top-0 m-4 flex items-center space-x-2\">\r\n      <button onClick={toggleStore} className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\">\r\n  Магазин\r\n</button>\r\n<button onClick={toggleLab} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">Лаборатория</button>\r\n<button onClick={toggleSound} className={`ml-4 w-10 h-10 flex items-center justify-center rounded-full bg-green-500 text-white font-bold text-2xl border-2 border-green-500 transition duration-300 ease-in-out`}>\r\n          {isPlaying ? '🔊' : '🔇'}\r\n        </button>\r\n        </div>\r\n        {isLabOpen && (\r\n          <div className=\"absolute right-0 mt-5 top-14 mr-4 bg-gray-700 p-5 rounded-lg shadow-lg\" style={{ zIndex: 100, maxHeight: '500px', overflowY: 'auto', width: '400px', backgroundImage: `url(${backgroundImage})` }}>\r\n            <h2 className=\"text-xl mb-2\">Лаборатория</h2>\r\n            <p className='mb-2'>Очки науки: {sciencePoints}</p>\r\n            <button onClick={startResearch} disabled={isResearching} className=\"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\">\r\n              Начать исследование {isResearching ? `${researchTimeLeft} сек` : ''}\r\n            </button>\r\n          </div>\r\n        )}\r\n{isStoreOpen && (\r\n  <div style={{zIndex: 100, maxHeight: '500px', overflowY: 'auto', width: '400px', backgroundImage: `url(${backgroundImage})`}}className=\"bg-gray-700 p-5 rounded-lg shadow-lg mt-5 absolute right-0 top-14 mr-4\">\r\n  <h2 className=\"text-xl mb-4\">Магазин локаций</h2>\r\n  <div className=\"flex items-center mb-4\">\r\n  <img src={greenCrystal} alt=\"Green Crystal\" className=\"inline-block h-6 w-6\" /> <span className=\"font-bold\">{greenCrystals.toFixed(4)}</span>\r\n  </div>\r\n  <button onClick={convertBalanceToGreenCrystals} className=\"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110 mb-4\">\r\n    Конвертировать баланс в <img src={greenCrystal} alt=\"Green Crystal\" className=\"inline-block h-6 w-6\" />\r\n  </button>\r\n    {locations.map(location => (\r\n        <Location\r\n          key={location.id}\r\n          id={location.id}\r\n          name={location.name}\r\n          cost={location.cost}\r\n          purchased={!!purchasedLocations[location.id]}\r\n          onPurchase={purchaseLocation}\r\n        />\r\n      ))}\r\n\r\n<div className=\"mt-8 mb-4\">\r\n      <h2 className=\"text-xl font-bold\">Upgrades</h2>\r\n    </div>\r\n\r\n    {totalUpgrade.map(totalUpgradeItem => (\r\n  <TotalUpgrade\r\n  key={totalUpgradeItem.id}\r\n  id={totalUpgradeItem.id}\r\n  totname={totalUpgradeItem.totname}\r\n  totcost={totalUpgradeItem.totcost}\r\n  totPurchcased={!!purchasedUpgrade[totalUpgradeItem.id]}\r\n  totOnPurshcase={purchaseUpgrade}\r\n/>\r\n  \r\n  ))}\r\n\r\n    </div>\r\n)}\r\n      <button onClick={resetGame} className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition duration-300 ease-in-out transform hover:scale-110\">Start Over</button>\r\n      <h1 className=\"text-4xl font-bold mb-6\">Business Game</h1>\r\n      <p className=\"text-xl mb-2\">Balance: <span className=\"font-bold\">${convertNumberToShortForm(balance.toFixed(2))}</span></p>\r\n      <div className=\"flex flex-wrap justify-center gap-4\">\r\n        <BusinessWindow\r\n          name=\"First Bussiness\"\r\n          income={income}\r\n          onUpgrade={purshcaseUpgrade}\r\n          upgradeCost={upgradeCost}\r\n          level={upgradeCount}\r\n          unlocked={true}\r\n          multiplier={firstBusinessMultiplier}\r\n          convertNumberToShortForm={convertNumberToShortForm}\r\n        />\r\n        <BusinessWindow\r\n          name=\"Second Bussiness\"\r\n          income={secondIncome}\r\n          onUpgrade={secPurshcaseUpgrade}\r\n          upgradeCost={secUpgradeCost}\r\n          level={secUpgradeCount}\r\n          unlocked={secondWindowUnlocked}\r\n          onUnlock={unlockSecondWindow}\r\n          unlockCost={secondUnlockCost}\r\n          multiplier={secondBusinessMultiplier}\r\n          convertNumberToShortForm={convertNumberToShortForm}\r\n        />\r\n          <BusinessWindow\r\n          name=\"Third Bussiness\"\r\n          income={thirdIncome}\r\n          onUpgrade={thirdPurshcaseUpgrade}\r\n          upgradeCost={thirdUpgradeCost}\r\n          level={thirdUpgradeCount}\r\n          unlocked={thirdWindowUnlocked}\r\n          onUnlock={unlockThirdWindow}\r\n          unlockCost={thirdUnlockCost}\r\n          multiplier={thirdBusinessMultiplier}\r\n          convertNumberToShortForm={convertNumberToShortForm}\r\n        />\r\n        \r\n      </div>\r\n    </div>\r\n    \r\n    </>\r\n  );\r\n};\r\nexport default BuisnessGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}